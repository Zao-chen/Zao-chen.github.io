<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>在Qt中使用http的get和post请求</title>
    <link href="/2024/10/28/%E5%9C%A8Qt%E4%B8%AD%E4%BD%BF%E7%94%A8get%E5%92%8Cpost%E8%AF%B7%E6%B1%82/"/>
    <url>/2024/10/28/%E5%9C%A8Qt%E4%B8%AD%E4%BD%BF%E7%94%A8get%E5%92%8Cpost%E8%AF%B7%E6%B1%82/</url>
    
    <content type="html"><![CDATA[<p>如何在Qt中发送get和post请求</p><span id="more"></span><h1 id="简单介绍"><a href="#简单介绍" class="headerlink" title="简单介绍"></a>简单介绍</h1><p>超文本传输协议（HTTP）的设计目的是保证客户端与服务器之间的通信。</p><p>HTTP 的工作方式是客户端与服务器之间的请求-应答协议。</p><p>web 浏览器可能是客户端，而计算机上的网络应用程序也可能作为服务器端。</p><p>举例：客户端（浏览器）向服务器提交 HTTP 请求；服务器向客户端返回响应。响应包含关于请求的状态信息以及可能被请求的内容。</p><p>两种 HTTP 请求方法：GET 和 POST<br>在客户机和服务器之间进行请求-响应时，两种最常被用到的方法是：GET 和 POST。</p><p>GET - 从指定的资源请求数据。<br>POST - 向指定的资源提交要被处理的数据。<br>GET 提交参数一般显示在 URL 上，POST 通过表单提交不会显示在 URL 上，POST 更具隐蔽性：</p><h1 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h1><p>你需要现在工程中加入Network相关内容</p><p>CMake示例：</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">find_package</span><span class="hljs-params">(Qt6 COMPONENTS Network REQUIRED)</span></span><br><span class="hljs-function"><span class="hljs-title">target_link_libraries</span><span class="hljs-params">(ZcAnimeDanmuTool PRIVATE Qt6::Network)</span></span><br></code></pre></td></tr></table></figure><p>然后再.h中添加</p><figure class="highlight stan"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stan"><span class="hljs-meta">#include &lt;QN<span class="hljs-string">etwork</span>A<span class="hljs-string">ccess</span>M<span class="hljs-string">anager</span>&gt;</span><br></code></pre></td></tr></table></figure><p>并且再private中声明一个manager</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs abnf">QNetworkAccessManager *m_manager<span class="hljs-comment">;</span><br></code></pre></td></tr></table></figure><h2 id="get请求"><a href="#get请求" class="headerlink" title="get请求"></a>get请求</h2><p>直接使用了loop的方法，简单粗暴地演示一下</p><figure class="highlight xl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs xl">m_manager = new QNetworkAccessManager(this); <span class="hljs-comment">//新建QNetworkAccessManager对象</span><br>QEventLoop <span class="hljs-keyword">loop</span>; <span class="hljs-comment">//循环</span><br>QN<span class="hljs-function"><span class="hljs-title">etworkReply</span> *reply = m_manager-&gt;</span>get(QNetworkRequest(QUrl(<span class="hljs-string">&quot;url&quot;</span>))); <span class="hljs-comment">//这里是请求网址</span><br>connect(reply, SIGNAL(finished()), &amp;<span class="hljs-keyword">loop</span>, SLOT(quit())); <span class="hljs-comment">//绑定回复事件</span><br><span class="hljs-keyword">loop</span>.exec(); <span class="hljs-comment">//循环直到有回复</span><br>QS<span class="hljs-function"><span class="hljs-title">tring</span> read = reply-&gt;</span>readAll();<br><span class="hljs-function"><span class="hljs-title">reply</span>-&gt;</span>deleteLater(); <span class="hljs-comment">//释放内存</span><br></code></pre></td></tr></table></figure><p>最后这个read就是返回内容了，一般是json，需要继续处理</p><h2 id="post请求"><a href="#post请求" class="headerlink" title="post请求"></a>post请求</h2><figure class="highlight xl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs xl">QNetworkAccessManager* naManager = new QNetworkAccessManager(this);<br>QNetworkRequest request;<br><span class="hljs-comment">//头设置</span><br>request.setUrl(QUrl(<span class="hljs-string">&quot;url&quot;</span>)); <span class="hljs-comment">//这里是请求网址</span><br>request.setHeader(QNetworkRequest::ContentTypeHeader, QVariant(<span class="hljs-string">&quot;application/json&quot;</span>)); <span class="hljs-comment">//这是一个设置头的示例</span><br><span class="hljs-comment">//内容设置</span><br>QJsonObject jsonObj;<br><span class="hljs-comment">/*此处需要根据情况编写json内容*/</span><br>QJsonDocument jsonDoc(jsonObj);<br><span class="hljs-comment">//发送 POST 请求</span><br>QEventLoop <span class="hljs-keyword">loop</span>;<br>QN<span class="hljs-function"><span class="hljs-title">etworkReply</span>* reply = naManager-&gt;</span>post(request, jsonDoc.toJson());<br>connect(reply, SIGNAL(finished()), &amp;<span class="hljs-keyword">loop</span>, SLOT(quit()));<br><span class="hljs-keyword">loop</span>.exec(); <span class="hljs-comment">//一样的循环</span><br>QString read;<br><span class="hljs-function"><span class="hljs-title">read</span> = reply-&gt;</span>readAll();<br><span class="hljs-function"><span class="hljs-title">reply</span>-&gt;</span>deleteLater(); <span class="hljs-comment">//记得释放内存</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>Qt</tag>
      
      <tag>C++</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ElaWidgetTools的基础使用</title>
    <link href="/2024/10/23/%E4%BD%BF%E7%94%A8ElaWidgetTools%E7%9A%84%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/"/>
    <url>/2024/10/23/%E4%BD%BF%E7%94%A8ElaWidgetTools%E7%9A%84%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<p>介绍一下ElaWidgetTools的基础使用方法</p><span id="more"></span><h1 id="ElaWidgetTools介绍"><a href="#ElaWidgetTools介绍" class="headerlink" title="ElaWidgetTools介绍"></a>ElaWidgetTools介绍</h1><p>基于QT-Widget开发的FluentUI风格的组件库，同时提供不限于组件的常用集成功能；目前Main分支支持QT5.12以上所有版本(Linux为QT5.15以上)，推荐版本为QT6.4.3和QT6.6.2；</p><h1 id="在项目中使用"><a href="#在项目中使用" class="headerlink" title="在项目中使用"></a>在项目中使用</h1><h2 id="构建dll"><a href="#构建dll" class="headerlink" title="构建dll"></a>构建dll</h2><p><a href="https://github.com/Liniyous/ElaWidgetTools">ElaWidgetTools</a></p><p>Clone下来并使用QtCreater打开，项目是CMaker，所以说打开的是CMakeLists.txt</p><p><img src="/img/1.png" alt="1"></p><p>选择和你项目一致的版本，使用release构建</p><p>在根目录下即可得到elawidgettools.dll和elawidgettools.lib</p><h2 id="添加到自己项目"><a href="#添加到自己项目" class="headerlink" title="添加到自己项目"></a>添加到自己项目</h2><p>在项目文件夹中创建lib文件夹和include文件夹</p><p><img src="/img/2.png" alt="2"></p><p>把elawidgettools.dll和elawidgettools.lib放到lib文件夹</p><p>把ElaWidgetTools-main\src\include中的文件放到include文件夹</p><p>接下来打开自己项目的cmakelists</p><p>首先要把include文件夹包含进来</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cmake"><span class="hljs-keyword">include_directories</span>(<br>    <span class="hljs-keyword">include</span><br>)<br></code></pre></td></tr></table></figure><p>然后再add_executable中添加qrc</p><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs actionscript"><span class="hljs-meta"><span class="hljs-keyword">include</span>/ElaWidgetTools.qrc</span><br></code></pre></td></tr></table></figure><p>最后链接目标库，再target_link_libraries中添加</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-variable">$&#123;CMAKE_CURRENT_SOURCE_DIR&#125;</span><span class="hljs-regexp">/lib/</span>elawidgettools.lib<br></code></pre></td></tr></table></figure><p>大功告成，这是完整的cmakelist示例仅供参考：</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">cmake_minimum_required</span><span class="hljs-params">(VERSION <span class="hljs-number">3.16</span>)</span></span><br><br><span class="hljs-function"><span class="hljs-title">project</span><span class="hljs-params">(Test VERSION <span class="hljs-number">0.1</span> LANGUAGES CXX)</span></span><br><br><span class="hljs-function"><span class="hljs-title">set</span><span class="hljs-params">(CMAKE_AUTOUIC ON)</span></span><br><span class="hljs-function"><span class="hljs-title">set</span><span class="hljs-params">(CMAKE_AUTOMOC ON)</span></span><br><span class="hljs-function"><span class="hljs-title">set</span><span class="hljs-params">(CMAKE_AUTORCC ON)</span></span><br><br><span class="hljs-function"><span class="hljs-title">set</span><span class="hljs-params">(CMAKE_CXX_STANDARD <span class="hljs-number">17</span>)</span></span><br><span class="hljs-function"><span class="hljs-title">set</span><span class="hljs-params">(CMAKE_CXX_STANDARD_REQUIRED ON)</span></span><br><br><span class="hljs-function"><span class="hljs-title">find_package</span><span class="hljs-params">(Qt6 REQUIRED Widgets Multimedia MultimediaWidgets NetWork)</span></span><br><br><span class="hljs-built_in">set</span>(PROJECT_SOURCES<br>        <span class="hljs-selector-tag">main</span><span class="hljs-selector-class">.cpp</span><br>        mainwindow<span class="hljs-selector-class">.cpp</span><br>        mainwindow<span class="hljs-selector-class">.h</span><br>        mainwindow<span class="hljs-selector-class">.ui</span><br>)<br><br><span class="hljs-built_in">add_executable</span>($&#123;PROJECT_NAME&#125; $&#123;PROJECT_SOURCES&#125;<br>    include/ElaWidgetTools<span class="hljs-selector-class">.qrc</span> #这里添加了<br>    res.qrc)<br>#这里添加了<br><br><span class="hljs-built_in">include_directories</span>(<br>    include<br>)<br><br><span class="hljs-built_in">target_link_libraries</span>($&#123;PROJECT_NAME&#125; PRIVATE Qt6::Widgets Qt6::Multimedia Qt6::MultimediaWidgets Qt6::Network<br>    $&#123;CMAKE_CURRENT_SOURCE_DIR&#125;/lib/elawidgettools.lib#这里添加了<br><br>)<br></code></pre></td></tr></table></figure><p>可以这样修改main.cpp来测试是否成功</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//#include &quot;mainwindow.h&quot;</span><br><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;QApplication&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;ElaApplication.h&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;ElaWindow.h&quot;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-type">int</span> argc, <span class="hljs-type">char</span> *argv[])</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-function">QApplication <span class="hljs-title">a</span><span class="hljs-params">(argc, argv)</span></span>;<br>    ElaApplication::<span class="hljs-built_in">getInstance</span>()-&gt;<span class="hljs-built_in">init</span>();<br>    ElaWindow w;<br>    w.<span class="hljs-built_in">show</span>();<br>    <span class="hljs-keyword">return</span> a.<span class="hljs-built_in">exec</span>();<br>&#125;<br></code></pre></td></tr></table></figure><p>如果没问题的话应该会有这个界面<br><img src="/img/3.png" alt="3"></p><h2 id="在项目中使用-1"><a href="#在项目中使用-1" class="headerlink" title="在项目中使用"></a>在项目中使用</h2><h3 id="窗口修改"><a href="#窗口修改" class="headerlink" title="窗口修改"></a>窗口修改</h3><p>.h中在添加头文件的基础上把</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><span class="hljs-keyword">class</span> <span class="hljs-symbol">MainWindow</span> : <span class="hljs-symbol">public</span> <span class="hljs-symbol">QMainWindow</span><br></code></pre></td></tr></table></figure><p>修改为</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><span class="hljs-keyword">class</span> <span class="hljs-symbol">MainWindow</span> : <span class="hljs-symbol">public</span> <span class="hljs-symbol">ElaWidget</span> 或者 <span class="hljs-symbol">ElaWindow</span><br></code></pre></td></tr></table></figure><p>即可，widget和window看自己需求</p><p>当然cpp里也要修改为Ela</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title class_">MainWindow</span>::<span class="hljs-title class_">MainWindow</span>(<span class="hljs-title class_">QWidget</span> *parent)<br>    : <span class="hljs-title class_">ElaWindow</span>(parent) <span class="hljs-comment">//此处修改</span><br>    , <span class="hljs-title function_">ui</span>(<span class="hljs-params"><span class="hljs-keyword">new</span> Ui::MainWindow</span>)<br>&#123;<br>    ui-&gt;<span class="hljs-title function_">setupUi</span>(<span class="hljs-variable language_">this</span>);<br>&#125;<br></code></pre></td></tr></table></figure><p>之后需要在main.cpp中初始化</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;mainwindow.h&quot;</span></span><br><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;QApplication&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;ElaApplication.h&quot;</span></span><br><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-type">int</span> argc, <span class="hljs-type">char</span> *argv[])</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-function">QApplication <span class="hljs-title">a</span><span class="hljs-params">(argc, argv)</span></span>;<br>    MainWindow w;<br>    w.<span class="hljs-built_in">show</span>();<br>    eApp-&gt;<span class="hljs-built_in">init</span>(); <span class="hljs-comment">//初始化</span><br>    <span class="hljs-keyword">return</span> a.<span class="hljs-built_in">exec</span>();<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="使用控件"><a href="#使用控件" class="headerlink" title="使用控件"></a>使用控件</h3><p>控件的使用除了在cpp里创建外，部分控件还可以用界面设计中的“提升为”功能</p><p><img src="/img/4.png" alt="4"></p>]]></content>
    
    
    
    <tags>
      
      <tag>Qt</tag>
      
      <tag>C++</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>如何创建一个这样的博客</title>
    <link href="/2024/10/22/CreateAHexo/"/>
    <url>/2024/10/22/CreateAHexo/</url>
    
    <content type="html"><![CDATA[<p>介绍一下这个博客是如何创建出来的</p><span id="more"></span><h1 id="如何创建"><a href="#如何创建" class="headerlink" title="如何创建"></a>如何创建</h1><p>参考的是这样的一篇博客<br><a href="https://blog.csdn.net/yaorongke/article/details/119089190">创建教程</a></p><h1 id="主题配置"><a href="#主题配置" class="headerlink" title="主题配置"></a>主题配置</h1><p><a href="https://hexo.fluid-dev.com/docs/">Fluid文档</a></p><h1 id="一些快速配置"><a href="#一些快速配置" class="headerlink" title="一些快速配置"></a>一些快速配置</h1><h2 id="添加文章"><a href="#添加文章" class="headerlink" title="添加文章"></a>添加文章</h2><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs actionscript">hexo <span class="hljs-keyword">new</span> 文章文件名<br></code></pre></td></tr></table></figure><h2 id="post和更新"><a href="#post和更新" class="headerlink" title="post和更新"></a>post和更新</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">hexo <span class="hljs-selector-tag">g</span> -d<br></code></pre></td></tr></table></figure><h1 id="一些问题"><a href="#一些问题" class="headerlink" title="一些问题"></a>一些问题</h1><h2 id="配置文件不更新"><a href="#配置文件不更新" class="headerlink" title="配置文件不更新"></a>配置文件不更新</h2><p>有的时候会遇到配置文件更新了不显示，这里就需要使用命令</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs css">hexo <span class="hljs-selector-tag">g</span><br>hexo d<br></code></pre></td></tr></table></figure><p>来重新部署</p><h2 id="push的适合报fatal-unable-to-access"><a href="#push的适合报fatal-unable-to-access" class="headerlink" title="push的适合报fatal: unable to access"></a>push的适合报fatal: unable to access</h2><p>经典的github走错代理，使用命令来指定端口</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs stylus">git config <span class="hljs-attr">--global</span> https<span class="hljs-selector-class">.proxy</span> http:<span class="hljs-comment">//127.0.0.1:7897</span><br>git config <span class="hljs-attr">--global</span> http<span class="hljs-selector-class">.proxy</span> http:<span class="hljs-comment">//127.0.0.1:7897</span><br></code></pre></td></tr></table></figure><h2 id="关于网站样式的修改"><a href="#关于网站样式的修改" class="headerlink" title="关于网站样式的修改"></a>关于网站样式的修改</h2><p>样式修改需要手动删除目录下的public后再进行push</p>]]></content>
    
    
    
    <tags>
      
      <tag>博客</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
